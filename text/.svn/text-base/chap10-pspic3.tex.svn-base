\documentclass{article}
\usepackage{pstricks,pst-tree,pst-node}

\pagestyle{empty}


\newcommand{\stnode}[2][]{\TR{\psframebox[#1]{#2}}}
\newcommand{\stelabel}[1]{\psframebox[fillstyle=solid,fillcolor=white,linestyle=none]{#1}\hspace*{-2.5em}}

\begin{document}

\pstree[levelsep=1.5cm]{\stnode{{\tt s(X,Y)}}}
{
 \pstree[levelsep=1.5cm]{\stnode[fillcolor=red,fillstyle=vlines]{{\tt q(\_G111,\_G112)}}\tlput{\stelabel{\tt X=\_G111, Y=\_G112}}}
 {
  \pstree{\stnode[fillcolor=red,fillstyle=vlines]{{\tt i(\_G111),!,j(\_G112)}}}
  {
   \pstree{\stnode{{\tt !,j(\_G112)}}\tlput{\stelabel{\tt \_G111=1}}}
   {
    \pstree[levelsep=2cm]{\stnode{{\tt j(\_G112)}}}
    {
     \stnode{}\tlput{\stelabel{\tt \_G112=1}}\strut\hspace{0.5cm}\strut
     \stnode{}\tlput{\raisebox{-3ex}{\stelabel{\tt \_G112=2}}}\strut\hspace{0.5cm}\strut
     \stnode{}\tlput{\stelabel{\tt \_G112=3}\hspace*{-2.5em}}
    }
   }
  }
 }
 \stnode{}\tlput{\stelabel{\tt X=0,Y=0}\hspace*{-2em}}
}

\end{document}
